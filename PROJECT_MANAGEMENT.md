# 人生博物馆项目管理指南

## 📦 项目当前状态

✅ **已完成的功能：**
- 展品展示和详情页面
- 分类管理系统
- 管理员认证和编辑功能
- 数据库集成（MySQL + Prisma）
- 响应式设计

✅ **版本控制：**
- Git仓库已初始化
- 33个文件已提交（11,856行代码）
- 敏感信息已保护（密码.txt已忽略）

## 🚀 日常开发流程

### 1. 开始新功能开发
```bash
# 查看当前状态
git status

# 创建新功能分支
git checkout -b feature/新功能名称

# 开始开发...
```

### 2. 保存工作进度
```bash
# 添加修改的文件
git add .

# 提交更改
git commit -m "feat: 添加新功能描述"

# 推送到远程仓库（如果有的话）
git push origin feature/新功能名称
```

### 3. 完成功能后合并
```bash
# 切回主分支
git checkout master

# 合并功能分支
git merge feature/新功能名称

# 删除功能分支
git branch -d feature/新功能名称
```

## 🔧 常用开发命令

### 启动开发服务器
```bash
npm run dev
```

### 数据库操作
```bash
# 应用数据库迁移
npx prisma db push

# 生成 Prisma 客户端
npx prisma generate

# 查看数据库
npx prisma studio
```

### 构建和部署
```bash
# 构建项目
npm run build

# 启动生产环境
npm start
```

## 📋 功能更新检查清单

### 添加新功能前：
- [ ] 确保现有功能正常工作
- [ ] 创建功能分支
- [ ] 备份数据库（如果涉及数据库修改）

### 开发过程中：
- [ ] 频繁提交代码（每完成一个小功能）
- [ ] 测试新功能是否正常工作
- [ ] 检查是否影响现有功能

### 功能完成后：
- [ ] 完整测试所有功能
- [ ] 更新文档（如果需要）
- [ ] 合并到主分支
- [ ] 标记版本号（重大更新时）

## 💾 备份策略

### 代码备份
- **本地备份：** Git版本控制
- **远程备份：** 推荐推送到GitHub/GitLab
- **定期备份：** 每周创建完整项目压缩包

### 数据库备份
```bash
# 导出数据库
mysqldump -u username -p onelife > backup_$(date +%Y%m%d).sql

# 导入数据库
mysql -u username -p onelife < backup_20241201.sql
```

## 🏷️ 版本标记建议

### 语义化版本控制
- **主版本 (v1.0.0):** 重大功能更新
- **次版本 (v1.1.0):** 新增功能
- **修订版本 (v1.1.1):** 错误修复

### 标记示例
```bash
# 标记重要版本
git tag -a v1.0.0 -m "第一个完整版本：基础功能完成"
git tag -a v1.1.0 -m "新增：用户权限管理"
git tag -a v1.1.1 -m "修复：展品编辑问题"

# 查看所有标签
git tag
```

## 🌟 推荐的功能更新计划

### 短期计划（1-2周）
- [ ] 添加图片上传功能
- [ ] 优化移动端体验
- [ ] 添加搜索功能

### 中期计划（1-2月）
- [ ] 用户注册和多用户支持
- [ ] 展品分享功能
- [ ] 数据导出功能

### 长期计划（3-6月）
- [ ] AI自动分类
- [ ] 时间线视图
- [ ] 数据可视化

## 🚨 紧急恢复

如果项目出现问题：

1. **回退到上个版本：**
   ```bash
   git log --oneline  # 查看提交历史
   git reset --hard <commit-hash>  # 回退到指定提交
   ```

2. **使用紧急启动脚本：**
   ```bash
   # 运行项目中的 emergency-start.cmd
   ```

3. **查看故障排除文档：**
   - 参考 `QUICK-FIX.md`
   - 参考 `DEPLOYMENT.md`

## 📞 获取帮助

- **文档位置：** 项目根目录的 README.md
- **环境配置：** ENV_EXAMPLE.md
- **部署指南：** DEPLOYMENT.md

记住：**每次重要修改前都要提交当前工作，这样总能回到安全的状态！** 